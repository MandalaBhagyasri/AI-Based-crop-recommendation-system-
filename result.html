<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crop Recommendation Results - Smart AI System</title>
    <link rel="stylesheet" href="static/css/style.css">
    <link rel="stylesheet" href="static/css/animations.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h2>ðŸŒ± CropAI</h2>
            </div>
            <ul class="nav-menu">
    <li class="nav-item"><a href="{{ url_for('home') }}" class="nav-link">Home</a></li>
    <li class="nav-item"><a href="{{ url_for('recommendation') }}" class="nav-link">Get Recommendation</a></li>
    <li class="nav-item"><a href="{{ url_for('about') }}" class="nav-link">About</a></li>
    <li class="nav-item"><a href="{{ url_for('contact') }}" class="nav-link active">Contact</a></li>
</ul>

            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Results Section -->
    <section class="results-section">
        <div class="container">
            <div id="result-content">
                <!-- Results will be displayed here -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>ðŸŒ± CropAI</h3>
                    <p>Smart agricultural solutions powered by artificial intelligence for modern farming.</p>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="recommendation.html">Get Recommendation</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contact Info</h4>
                    <p>Email: info@cropai.com</p>
                    <p>Phone: +1 (555) 123-4567</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 CropAI Recommendation System. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Display results from session storage
        document.addEventListener('DOMContentLoaded', function() {
            const resultData = sessionStorage.getItem('cropRecommendationResult');
            
            if (resultData) {
                const data = JSON.parse(resultData);
                displayResults(data);
            } else {
                document.getElementById('result-content').innerHTML = `
                    <div class="result-card">
                        <h2>No results found</h2>
                        <p>Please go back and submit the recommendation form.</p>
                        <a href="recommendation.html" class="btn btn-primary" style="margin-top: 20px;">Get Recommendation</a>
                    </div>
                `;
            }

            function displayResults(data) {
                document.getElementById('result-content').innerHTML = `
                    <div class="result-card">
                        <h1 style="color: #2d5016; margin-bottom: 10px;">AI Recommendation Results</h1>
                        <p style="color: #666; margin-bottom: 30px;">Based on your input parameters, here's the optimal crop for your conditions</p>
                        
                        <div style="background: #f8f9fa; padding: 30px; border-radius: 10px; margin-bottom: 30px;">
                            <h2 style="color: #4a7c2a; margin-bottom: 10px;">Recommended Crop: ${data.crop}</h2>
                            <div style="display: flex; align-items: center; justify-content: center; margin: 20px 0;">
                                <div style="text-align: center;">
                                    <div style="font-size: 3em; margin-bottom: 10px;">ðŸŒ¾</div>
                                    <h3 style="margin: 0;">${data.confidence}% Confidence</h3>
                                </div>
                            </div>
                            
                            <div class="confidence-meter">
                                <div class="confidence-fill" style="width: ${data.confidence}%"></div>
                            </div>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
                            <div style="background: white; padding: 20px; border-radius: 10px; text-align: center; border-left: 4px solid #4a7c2a;">
                                <h4>Season</h4>
                                <p style="font-weight: 600; color: #4a7c2a;">${data.season}</p>
                            </div>
                            <div style="background: white; padding: 20px; border-radius: 10px; text-align: center; border-left: 4px solid #4a7c2a;">
                                <h4>Duration</h4>
                                <p style="font-weight: 600; color: #4a7c2a;">${data.duration}</p>
                            </div>
                            <div style="background: white; padding: 20px; border-radius: 10px; text-align: center; border-left: 4px solid #4a7c2a;">
                                <h4>Water Needs</h4>
                                <p style="font-weight: 600; color: #4a7c2a;">${data.water_requirement}</p>
                            </div>
                            <div style="background: white; padding: 20px; border-radius: 10px; text-align: center; border-left: 4px solid #4a7c2a;">
                                <h4>Soil Type</h4>
                                <p style="font-weight: 600; color: #4a7c2a;">${data.soil_type}</p>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 30px;">
                            <h3 style="color: #2d5016; margin-bottom: 15px;">ðŸŒ± Growth Tips</h3>
                            <div style="background: white; padding: 20px; border-radius: 10px;">
                                <ul style="list-style: none; padding: 0;">
                                    ${data.tips.map(tip => `<li style="padding: 8px 0; border-bottom: 1px solid #f0f0f0;">âœ… ${tip}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 15px; justify-content: center;">
                            <a href="recommendation.html" class="btn btn-primary">Get New Recommendation</a>
                            <button onclick="generatePDF()" class="btn btn-secondary">Download PDF Report</button>
                        </div>
                    </div>
                `;
            }

            function generatePDF() {
                alert('PDF report generation would be implemented here!');
                // This would call your backend PDF generation endpoint
            }
        });

        // Mobile menu toggle
        document.querySelector('.hamburger').addEventListener('click', function() {
            document.querySelector('.nav-menu').classList.toggle('active');
        });
    </script>
</body>
</html>